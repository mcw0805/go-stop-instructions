<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title></title>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/sidebarStyle.css">

    <!-- fonts -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

</head>

<body>
        <div class="d-flex" id="wrapper">
                <!-- Sidebar -->
                <div class="bg-light border-right" id="sidebar-wrapper">
                    <div class="sidebar-heading">Contents</div>
                    <div class="list-group list-group-flush">
                        <a href="game-objective.html" class="list-group-item list-group-item-action bg-light">Objective</a>
                        <a href="card-description.html" class="list-group-item list-group-item-action bg-light">Card Description</a>
                        <a href="game-setup.html" class="list-group-item list-group-item-action bg-light">Game Setup</a>
                        <a href="game-play.html" class="list-group-item list-group-item-action bg-light
                        bar-active">Gameplay</a>
                        <a href="game-special-events.html" class="list-group-item list-group-item-action
                        bg-light">Special Events</a>
                        <a href="game-winning.html" class="list-group-item list-group-item-action bg-light">Winning</a>
                        <a href="game-scoring.html" class="list-group-item list-group-item-action bg-light">Scoring</a>
                        <a href="additional-rules.html" class="list-group-item list-group-item-action bg-light">Additional Rules & 3+ Player Rules</a>
                    </div>
                </div>
                <!-- /#sidebar-wrapper -->
        
                <!-- Page Content -->
                <div id="page-content-wrapper">
        
                    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                        <a class="site-header" href="home.html" ><h2 id="menu-toggle">The Game of Go-Stop</h2></a>
                    </nav>
                    <br>
                    <div class="container">

                            <div class="card">
                                <h3 class="card-title page-heading">Gameplay</h3>
                                <hr>
                                <div class="card-body">
                                    <p>The objective of the game is to score at least the minimum number of points. </p>
                                    <ul>
                                        <li>2 Players: minimum 7 points</li>
                                        <li>3+ Players: minimum 3 points</li>
                                    </ul>
                                    <p>
                                        The ultimate goal is to maximze the number of points, which are described in detail in the scoring
                                        section below. To maxmize the number of points, the player needs to collect the cards. How a player
                                        collects cards is described immediately below.
                                    </p>
                    
                                    <br>
                                    
                                    <div class="d-flex flex-row mb-6">
                                        <div class="col-6">
                                            <h5 id="examineSectionHeading">EXAMINING</h5>
                                            
                                            <p id="examineSectionDesc">
                                                <ul>
                                                    <li>Player examines their hand cards and floor cards in order to see any of the match up. 
                                                    </li>
                                                    <li>Player may have three of the same month cards in their hand.
                                                    This is known as a <span class="text-italicize">bomb</span>
                                                    (handling bomb is described in the <a
                                                    href="game-special-events.html">Special Events</a> Section).
                                                    </li>
                                                    <li><span class="text-italicize">[Optional] With joker</span>: In case of a joker on hand, the player can place down the joker on their pi pile and take a random card from anywhere in the remaining deck.</li>
                    
                                                    
                                                </ul>
                                            </p>
                    
                                            <p>The left figure shows the options (i.e. flashing cards) the players can match from their hand to the floor.</p>
                                        </div>
                    
                                        <div class="col-6">
                                            <h5 id="e">Example Scenario</h5>
                                            <div id="examineEx1" style="position: relative; width: 100%;"></div>
                                        </div>
                    
                                    </div>
                                    <br>
                    
                                    <div class="d-flex flex-row mb-6">
                                        <div class="col-6">
                                            <h5 id="matchDiscardSectionHeading">MATCHING OR DISCARDING</h5>
                                            <p id="matchDiscardSectionDesc">
                                                <ul>
                                                    <li>Player attempts to match one of the floor cards with the same month card in their hand. 
                                                    </li>
                    
                                                        <ol type="a">
                                                            <li>If the player can match multiple, they must select one. In case of a match with a bomb, the player may place down all three to the floor.</li>
                                                            OR
                                                            <li>If the player has no matching cards, the player must discard one of them. If the player holds a bomb, the player can decide to shake.</li>
                    
                                                        </ol>
                                                    </ul>
                                            </p>
                                            <h5 id="flipSectionHeading">FLIPPING</h5>
                                            <p id="flipSectionDesc">
                                                <ul>
                                                        <li>After matching or discarding, the player flips the top card from the remaining deck.</li>
                                                        <li><span class="text-italicize">[Optional] With joker</span>: In case of a joker, the player flips the top card <span class="text-italicize">again</span> from the remaining deck.</li>
                                                    </ul>
                    
                                            </p>
                    

                                        </div>
                    
                                        <div class="col-6">
                                            <div id="matchEx1" style="position: relative; width: 100%;"></div>
                                            <p>The above figure shows a complete turn of a player.</p>
                                            <button type="button" class="btn btn-lg btn-info" disabled><i class="fas
                                            fa-arrow-up"></i> Try clicking on the one card that continously
                                            blinks!</button>
                                        </div>
                        
                                    </div>
                                    
                                    <div class="d-flex flex-row mb-6">
                                        <div class="container">
                                            <h5 id="collectSectionHeading">COLLECTING</h5>
                                            <p id="collectSectionDesc">
                                                    <ul>
                                                        <li>Check for any <a href="game-special-events">SPECIAL EVENTS</a>.</li>
                                                        <li>If thereâ€™s a match from the flipped card and the floor card, the player collects those pair of cards along with the matching card pair from their hand (if any) from the first step. Otherwise, the flipped card remains on the floor.</li>
                                                        <li><span class="text-italicize">[Optional] With joker</span>: If a joker was flipped, the player will also take their joker to their collection pile.</li>
                                                    </ul>
                                            </p>
                                        </div>

                                    </div>
                    
                    
                                    <div style="display:none;"><img id="source" src="./assets/_back.svg"></div>

                                    <!-- sometimes section -->
                                    <a class="section-heading-click" data-toggle="collapse" role="button" href="#additionalStepsSection" aria-expanded="false" aria-controls="additionalStepsSection">
                                        <div class="d-flex flex-row section-row">
                                            <div class="p-2"><h5 class="card-subtitle section-heading">(Sometimes)
                                            Additional Step</h5></div>
                                            <div class="p-2 ml-auto">
                                                <i class="fas fa-chevron-circle-down fa-2x"></i>
                                            </div>
                                        </div>
                                    </a>
                        
                                    <div class="collapse p-2" id="additionalStepsSection">
                                        <div class="container">
                                            <h5>(SOMTIMES) EXTORTING</h5>
                                                <ul>
                                                    <li>The player may extort one or more of the opponent's pi cards if
                                                    one or a combination of the below <a href="game-special-events.html">special events</a> occur:</li>
                                                    <ul>
                                                        <li>After placing a bomb</li>
                                                        <li>Collecting ppuk</li>
                                                        <li>Collecting ja-ppuk</li>
                                                        <li>Sseul</li>
                                                        <li>Ttadak</li>
                                                        <li>Jjok</li>
                                                    </ul>
                                                    
                                                    <br>
                                                    <a href="game-special-events.html" class="btn btn-info"
                                                   role="button">LEARN MORE ABOUT SPECIAL EVENTS </a>
                                                   <br><br>
                                                    <p><span class="text-italicize">Special Notes</span>: 
                                                        <ul>
                                                            <li>If a combination of above events to occur, the number of cards to extort will accumulate.</li>
                                                            <li>If the opponent player does not have no or too few pi cards, the current player will only extort however many pi cards that the opponent has at the time.</li>
                                                            <li>There is no sense of giving "change." If the current player is to extort one pi but if the opponent has one ssangpi, the current player will still extort the ssangpi without giving one pi back.</li>
                                                        </ul>
                                                    </p>
                
                
                                                </ul>
                                        </div>

                                        
                                        
                                    </div>
                                    <br>
                                    <!-- <div class="d-flex flex-row mb-6">
                                        <div class="container">
                                            <h5 id="winningSectionHeading">WINNING AND ENDING THE GAME</h5>
                                            <p id="winningSectionDesc">
                                                <ul>
                                                    <li>The player is declared as a winner if their current point is
                                                    above the minimum threshold and has called "Stop" (see the
                                                    "Additional Steps" section above for more details).</li>
                                                </ul>
                                            </p>
                                        </div>
                                    </div> -->
                    
                                    <hr>
                    
                                    <p>
                                        
                                    </p>
                    
                    
                                </div>
                            </div>
                    
                        </div>

                </div>
                <!-- /#page-content-wrapper -->
        
            </div>
            <!-- /#wrapper -->


    <script type="text/javascript" src="./gameBoardGraphics.js"></script>

    <script type="text/javascript">

    $(document).ready(function() {
        let body = d3.select('body');
        let examineEx1Div = body.select('#examineEx1');
        let examineEx1SvgContainer = createSvgElement(body, 'examineEx1');

        let matchExDiv = body.select('#matchEx1');
        let matchExSvgContainer = createSvgElement(body, 'matchEx1');

        addAllCardsAsPattern('examineEx1');
        addAllCardsAsPattern('matchEx1', 'm1');

        drawFloorSections(examineEx1SvgContainer, examineEx1Div);
        drawCenterRemainingDeck(examineEx1SvgContainer);
        createExamineExampleMatch(examineEx1SvgContainer);

        drawFloorSections(matchExSvgContainer, matchExDiv);
        drawCenterRemainingDeck(matchExSvgContainer, 'm1');
        createMatchExampleMatch(matchExSvgContainer);

        function createExamineExampleMatch(svgContainer) {
            // opponent card
            drawHandCardFaceDownSvg(svgContainer)

            // curr player hand card
            drawHandCardForCurrPlayer(svgContainer, '_1_1', position=0) 
            drawHandCardForCurrPlayer(svgContainer, '_2_3', position=1) 
            drawHandCardForCurrPlayer(svgContainer, '_4_1', position=2) 
            drawHandCardForCurrPlayer(svgContainer, '_4_2', position=3) 
            drawHandCardForCurrPlayer(svgContainer, '_6_1', position=4) 
            drawHandCardForCurrPlayer(svgContainer, '_6_3', position=5) 
            drawHandCardForCurrPlayer(svgContainer, '_7_2', position=6)
            drawHandCardForCurrPlayer(svgContainer, '_8_3', position=7)
            drawHandCardForCurrPlayer(svgContainer, '_10_1', position=8)
            drawHandCardForCurrPlayer(svgContainer, '_12_3', position=9)
            

            // floor cards
            drawFloorCard(svgContainer, '_2_2', floorPos=1);
            drawFloorCard(svgContainer, '_5_3', floorPos=2);
            drawFloorCard(svgContainer, '_6_2', floorPos=3);
            drawFloorCard(svgContainer, '_11_2', floorPos=4);
            drawFloorCard(svgContainer, '_9_1', floorPos=5, cardPosWithin=0);
            drawFloorCard(svgContainer, '_9_2', floorPos=5, cardPosWithin=1);
            drawFloorCard(svgContainer, '_7_3', floorPos=6, cardPosWithin=0);
            drawFloorCard(svgContainer, '_7_4', floorPos=6, cardPosWithin=1);

            blinkCardGroup('_2_3')
            blinkCardGroup('_6_1')
            blinkCardGroup('_6_3')
            blinkCardGroup('_7_2')
            
        }

        function createMatchExampleMatch(svgContainer) {
            // opponent card
            drawHandCardFaceDownSvg(svgContainer)

            // curr player hand card
            drawHandCardForCurrPlayer(svgContainer, '_1_1', position=0, groupIdSuffix='m1') 
            drawHandCardForCurrPlayer(svgContainer, '_2_3', position=1, groupIdSuffix='m1') 
            drawHandCardForCurrPlayer(svgContainer, '_4_1', position=2, groupIdSuffix='m1') 
            drawHandCardForCurrPlayer(svgContainer, '_4_2', position=3, groupIdSuffix='m1')
            drawHandCardForCurrPlayer(svgContainer, '_6_1', position=4, groupIdSuffix='m1') 
            drawHandCardForCurrPlayer(svgContainer, '_6_3', position=5, groupIdSuffix='m1')
            drawHandCardForCurrPlayer(svgContainer, '_7_2', position=6, groupIdSuffix='m1')
            drawHandCardForCurrPlayer(svgContainer, '_8_3', position=7, groupIdSuffix='m1')
            drawHandCardForCurrPlayer(svgContainer, '_10_1', position=8, groupIdSuffix='m1')
            drawHandCardForCurrPlayer(svgContainer, '_12_3', position=9, groupIdSuffix='m1')
            
            // floor cards
            drawFloorCard(svgContainer, '_2_2', floorPos=1, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_5_3', floorPos=2, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_6_2', floorPos=3, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_11_2', floorPos=4, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_9_1', floorPos=5, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_9_2', floorPos=5, cardPosWithin=1, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_7_3', floorPos=6, cardPosWithin=0, groupIdSuffix='m1')
            drawFloorCard(svgContainer, '_7_4', floorPos=6, cardPosWithin=1, groupIdSuffix='m1')

            blinkCardGroup('_2_3', groupIdSuffix='m1')
            outlineCardGroup('_6_1', groupIdSuffix='m1')
            outlineCardGroup('_6_3', groupIdSuffix='m1')
            outlineCardGroup('_7_2', groupIdSuffix='m1')
            
        }

        d3.select('#_2_3gm1').on('click', () => {
            
            // translate hand card to floor
            let fc1 = getFloorCoordinate(matchExSvgContainer, floorPos=1, cardPosWithin=1)
            translateG('_2_3', 'm1', fc1['f_x'], fc1['f_y']);
            
            // flip and move cards to collection
            let centerCoord = getCenterCoord(matchExSvgContainer);
            setTimeout(() => {
                drawCardAsGroup(matchExSvgContainer, centerCoord['x'], centerCoord['y'], '_3_3', groupId='_3_3gm1', 'm1');
                let fc2 = getFloorCoordinate(matchExSvgContainer, floorPos=8, cardPosWithin=0);

                setTimeout(() => {
                    translateG('_3_3', 'm1', fc2['f_x'], fc2['f_y']);
                    let cPos1 = getCollectionCardPos(1);
                    translateG('_2_2', 'm1', cPos1['c_x'], cPos1['c_y']);

                    let cPos2 = getCollectionCardPos(3);
                    translateG('_2_3', 'm1', cPos2['c_x'], cPos2['c_y']);
                    d3.select('#_2_3gm1').transition().duration();
                    outlineCardGroup('_2_3', groupIdSuffix='m1', 'none')
                }, 400); 
            }, 500);
            

        });


        

    });
    
    
    </script>

</body>

</html>